# Air DevContainer Feature Demo

This demonstrates how the Air feature would be used in a real Go project.

## Usage in devcontainer.json

```json
{
    "name": "Go with Air",
    "image": "mcr.microsoft.com/devcontainers/go",
    "features": {
        "ghcr.io/LuMa2003/golang-air-feature/air:1": {
            "version": "latest"
        }
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "golang.go"
            ]
        }
    },
    "forwardPorts": [8080],
    "postCreateCommand": "air init"
}
```

## Example Go Project Structure

```
.
├── .devcontainer/
│   └── devcontainer.json
├── .air.toml            # Generated by 'air init'
├── main.go
├── go.mod
└── go.sum
```

## Sample main.go

```go
package main

import (
    "fmt"
    "log"
    "net/http"
    "time"
)

func main() {
    http.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {
        fmt.Fprintf(w, "Hello from Air! Current time: %s", time.Now().Format(time.RFC3339))
    })
    
    log.Println("Server starting on :8080")
    log.Fatal(http.ListenAndServe(":8080", nil))
}
```

## Development Workflow

1. Open project in dev container
2. Air is automatically available
3. Run `air` to start live reloading
4. Edit `main.go` and see automatic rebuilds and restarts
5. Changes are reflected immediately in the running application

## Air Configuration

The `.air.toml` file can be customized for your project needs:

```toml
root = "."
testdata_dir = "testdata"
tmp_dir = "tmp"

[build]
  bin = "./tmp/main"
  cmd = "go build -o ./tmp/main ."
  include_ext = ["go", "tpl", "tmpl", "html"]
  exclude_dir = ["assets", "tmp", "vendor", "testdata"]
```